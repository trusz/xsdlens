import{b as xn,h as ee,c as Le,a as Sn,d as at,ai as Tn,ap as An,an as Cn,T as En,aj as kn,au as Mn,Y as Lt,av as Bn,ad as it,a5 as st,N as ut,aw as Dn,ae as Ln,L as On,ax as In,F as U,j as G,z as H}from"./utils.tSr6jWHF.js";import{g as ct,i as Nn,j as Fn,k as ft,l as zn,n as qn,o as Zn}from"./disclose-version.kgImLxeG.js";import{a as j}from"./index-client.7s9OyLHi.js";import{g as Ot,d as It,w as q}from"./index.CR99Cl9f.js";function no(e,t,n,o,s){var u=e,a="",f;xn(()=>{if(a===(a=t()??"")){ee&&Le();return}f!==void 0&&(Mn(f),f=void 0),a!==""&&(f=Sn(()=>{if(ee){at.data;for(var d=Le(),g=d;d!==null&&(d.nodeType!==8||d.data!=="");)g=d,d=Tn(d);if(d===null)throw An(),Cn;ct(at,g),u=En(d);return}var v=a+"",m=Nn(v);ct(kn(m),m.lastChild),u.before(m)}))})}function ro(e,t,n,o,s){var f;ee&&Le();var u=(f=t.$$slots)==null?void 0:f[n],a=!1;u===!0&&(u=t.children,a=!0),u===void 0?s!==null&&s(e):u(e,a?()=>o:o)}function Rn(e,t){if(t){const n=document.body;e.autofocus=!0,Lt(()=>{document.activeElement===n&&e.focus()})}}let lt=!1;function Pn(){lt||(lt=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function oo(e){if(ee){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var o=e.value;pe(e,"value",null),e.value=o}if(e.hasAttribute("checked")){var s=e.checked;pe(e,"checked",null),e.checked=s}}};e.__on_r=n,Bn(n),Pn()}}function pe(e,t,n,o){var s=e.__attributes??(e.__attributes={});ee&&(s[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||s[t]!==(s[t]=n)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[Dn]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Oe(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ao(e,t,n){var o=Ln,s=On;it(null),st(null);try{Oe(e).includes(t)?e[t]=n:pe(e,t,n)}finally{it(o),st(s)}}function io(e,t,n,o,s=!1,u=!1,a=!1){var f=t||{},d=e.tagName==="OPTION";for(var g in t)g in n||(n[g]=null);o!==void 0&&(n.class=n.class?n.class+" "+o:o);var v=Oe(e),m=e.__attributes??(e.__attributes={}),p=[];for(const h in n){let _=n[h];if(d&&h==="value"&&_==null){e.value=e.__value="",f[h]=_;continue}var b=f[h];if(_!==b){f[h]=_;var A=h[0]+h[1];if(A!=="$$"){if(A==="on"){const w={},E="$$"+h;let B=h.slice(2);var C=Zn(B);if(Fn(B)&&(B=B.slice(0,-7),w.capture=!0),!C&&b){if(_!=null)continue;e.removeEventListener(B,f[E],w),f[E]=null}if(_!=null)if(C)e[`__${B}`]=_,zn([B]);else{let N=function(D){f[h].call(this,D)};t?f[E]=ft(B,e,N,w):p.push([h,_,()=>f[E]=ft(B,e,N,w)])}}else if(h==="style"&&_!=null)e.style.cssText=_+"";else if(h==="autofocus")Rn(e,!!_);else if(h==="__value"||h==="value"&&_!=null)e.value=e[h]=e.__value=_;else{var T=h;s||(T=qn(T)),_==null&&!u?(m[h]=null,e.removeAttribute(h)):v.includes(T)&&(u||typeof _!="string")?e[T]=_:typeof _!="function"&&(ee&&(T==="src"||T==="href"||T==="srcset")||pe(e,T,_))}h==="style"&&"__styles"in e&&(e.__styles={})}}}return t||Lt(()=>{if(e.isConnected)for(const[h,_,w]of p)f[h]===_&&w()}),f}var dt=new Map;function Oe(e){var t=dt.get(e.nodeName);if(t)return t;dt.set(e.nodeName,t=[]);for(var n,o=ut(e),s=Element.prototype;s!==o;){n=In(o);for(var u in n)n[u].set&&t.push(u);o=ut(o)}return t}function $n(){let e=U(void 0),t=U(""),n=U(void 0),o=U("diagram"),s=U(""),u=U(j({focus_mode:!1,show_children:!0,show_extensions:!0}));return{get file(){return G(e)},set file(a){H(e,j(a))},get selected_node(){return G(t)},get xsd(){return G(n)},set xsd(a){H(n,j(a)),window.xsd=a},get view_mode(){return G(o)},set view_mode(a){H(o,j(a))},get diagram_code(){return G(s)},set diagram_code(a){H(s,j(a))},get settings(){return G(u)},set settings(a){H(u,j(a))},set_selected_node(a){window.location.hash=a},init_url_state_sync(){window.addEventListener("popstate",a=>{const f=document.location.hash.replace("#","");console.log("navigate",f),H(t,j(f))})}}}let so=$n();var uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function co(e,t,n){if(!e)return"";const o=[],s=jn(e);o.push(Yn(s,e,t));const u=n==="dark";return console.log({dark_mode:u,color_mode:n}),`${Hn({dark_mode:u})}
classDiagram
direction LR
	${o.join(`
`)}	
`}function jn(e){const t=e.querySelectorAll("xs\\:complexType");return Array.from(t)}function Yn(e,t,n){let o=[(n==null?void 0:n.node_name)??""].filter(Boolean);console.log({filter:n});const s=e.map(f=>{const d=f.getAttribute("name");if(!d)return"";let g=[];n!=null&&n.show_extensions&&(g=Array.from(f.querySelectorAll("xs\\:extension")));const m=g.map(w=>Q(w==null?void 0:w.getAttribute("base"))).map(w=>`${d} --|> ${w} `).join(`
`),A=Wn(f).map(w=>({name:w.getAttribute("name"),type:Q(w.getAttribute("type"))})).map(w=>`${d} : + ${w.type} ${w.name} `).join(`
`);let C=[];n!=null&&n.show_children&&(C=Kn(f));const T=C.map(w=>`${d} ..> ${w.getAttribute("type")}`).join(`
`),h=C.map(w=>`${d} : ${Q(w.getAttribute("type"))}[] ${w.getAttribute("name")}`).join(`
`);if((n==null?void 0:n.node_name)===""||o.includes(d??"")){const w=Un(f,t);o.push(d),o.push(...C.map(E=>Q(E.getAttribute("type")))),o.push(...g.map(E=>Q(E==null?void 0:E.getAttribute("base")))),o.push(...w.map(E=>E.getAttribute("name")??""))}return[`class ${d}`,`click ${d} href "${d}"`,`${m}`,`${A}`,`${T}`,`${h}`].join(`
`)}).join(`
`);window.full_mermaid_text=s;const u=new RegExp(`(${o.join("|")})`,"g");console.log({line_regex:u});let a=s;return(n==null?void 0:n.node_name)!==""&&(a=a.split(`
`).filter(Boolean).filter(f=>u.test(f)).join(`
`)),a}function Wn(e){const t=e.querySelectorAll("xs\\:attribute");return Array.from(t)}function fo(e,t){const n=[];let o=mt(e,t);for(;o.length>0;)n.push(...o),o=o.map(s=>mt(e,s)).flat();return n}function mt(e,t){return Array.from(t.querySelectorAll("xs\\:extension")).map(u=>Q(u==null?void 0:u.getAttribute("base"))).filter(Boolean).map(u=>Gn(e,u)).filter(Boolean)}function Kn(e){return Array.from(e.querySelectorAll("xs\\:sequence > xs\\:element"))}function Un(e,t){const o=`xs\\:complexType:has(xs\\:element[type*='${e.getAttribute("name")??"error_name_not_found"}'])`;return console.log({selector:o}),Array.from(t.querySelectorAll(o))}function Gn(e,t){const n=`xs\\:complexType[name="${t}"]`;return e.querySelector(n)}function Hn({dark_mode:e}){return e?Jn:Qn}function Q(e){return e?e.includes(":")?e.split(":")[1]:e:""}const Qn=`
%%{
  init: {
    'theme': 'base',
    'themeVariables': {
      'primaryColor': 'hsl(0 0% 100%)',
      'primaryTextColor': 'hsl(240 10% 3.9%)',
      'primaryBorderColor': 'hsl(240 5.9% 90%)',
      'lineColor': 'hsl(240 5.9% 10%)',
      'secondaryColor': '#006100',
      'tertiaryColor': '#fff',
	  'fontFamily': 'monospace'
    }
  }
}%%
`,Jn=`
%%{
  init: {
    'theme': 'base',
    'themeVariables': {
      'primaryColor': 'hsl(240, 4%, 16%)',
      'primaryTextColor': 'hsl(240, 6%, 90%)',
      'primaryBorderColor': 'hsl(240, 10%, 4%)',
      'lineColor': 'hsl(240, 5%, 84%)',
      'secondaryColor': '#006100',
      'tertiaryColor': '#fff',
	  'fontFamily': 'monospace'
    }
  }
}%%
`;var we={exports:{}};we.exports=Nt;we.exports.addWheelListener=Nt;we.exports.removeWheelListener=Xn;function Nt(e,t,n){e.addEventListener("wheel",t,n)}function Xn(e,t,n){e.removeEventListener("wheel",t,n)}var er=we.exports,be={exports:{}},tr=4,nr=.001,rr=1e-7,or=10,ae=11,ve=1/(ae-1),ar=typeof Float32Array=="function";function Ft(e,t){return 1-3*t+3*e}function zt(e,t){return 3*t-6*e}function qt(e){return 3*e}function ye(e,t,n){return((Ft(t,n)*e+zt(t,n))*e+qt(t))*e}function Zt(e,t,n){return 3*Ft(t,n)*e*e+2*zt(t,n)*e+qt(t)}function ir(e,t,n,o,s){var u,a,f=0;do a=t+(n-t)/2,u=ye(a,o,s)-e,u>0?n=a:t=a;while(Math.abs(u)>rr&&++f<or);return a}function sr(e,t,n,o){for(var s=0;s<tr;++s){var u=Zt(t,n,o);if(u===0)return t;var a=ye(t,n,o)-e;t-=a/u}return t}function ur(e){return e}var cr=function(t,n,o,s){if(!(0<=t&&t<=1&&0<=o&&o<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===n&&o===s)return ur;for(var u=ar?new Float32Array(ae):new Array(ae),a=0;a<ae;++a)u[a]=ye(a*ve,t,o);function f(d){for(var g=0,v=1,m=ae-1;v!==m&&u[v]<=d;++v)g+=ve;--v;var p=(d-u[v])/(u[v+1]-u[v]),b=g+p*ve,A=Zt(b,t,o);return A>=nr?sr(d,b,t,o):A===0?b:ir(d,g,g+ve,t,o)}return function(g){return g===0?0:g===1?1:ye(f(g),n,s)}},oe=cr,vt={ease:oe(.25,.1,.25,1),easeIn:oe(.42,0,1,1),easeOut:oe(0,0,.58,1),easeInOut:oe(.42,0,.58,1),linear:oe(0,0,1,1)};be.exports=fr;be.exports.makeAggregateRaf=Rt;be.exports.sharedScheduler=Rt();function fr(e,t,n){var o=Object.create(null),s=Object.create(null);n=n||{};var u=typeof n.easing=="function"?n.easing:vt[n.easing];u||(n.easing&&console.warn("Unknown easing function in amator: "+n.easing),u=vt.ease);var a=typeof n.step=="function"?n.step:ht,f=typeof n.done=="function"?n.done:ht,d=lr(n.scheduler),g=Object.keys(t);g.forEach(function(h){o[h]=e[h],s[h]=t[h]-e[h]});var v=typeof n.duration=="number"?n.duration:400,m=Math.max(1,v*.06),p,b=0;return p=d.next(C),{cancel:A};function A(){d.cancel(p),p=0}function C(){var h=u(b/m);b+=1,T(h),b<=m?(p=d.next(C),a(e)):(p=0,setTimeout(function(){f(e)},0))}function T(h){g.forEach(function(_){e[_]=s[_]*h+o[_]})}}function ht(){}function lr(e){if(!e){var t=typeof window<"u"&&window.requestAnimationFrame;return t?dr():mr()}if(typeof e.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof e.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return e}function dr(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function mr(){return{next:function(e){return setTimeout(e,1e3/60)},cancel:function(e){return clearTimeout(e)}}}function Rt(){var e=new Set,t=new Set,n=0;return{next:s,cancel:s,clearAll:o};function o(){e.clear(),t.clear(),cancelAnimationFrame(n),n=0}function s(f){t.add(f),u()}function u(){n||(n=requestAnimationFrame(a))}function a(){n=0;var f=t;t=e,e=f,e.forEach(function(d){d()}),e.clear()}}var vr=be.exports,hr=function(t){pr(t);var n=gr(t);return t.on=n.on,t.off=n.off,t.fire=n.fire,t};function gr(e){var t=Object.create(null);return{on:function(n,o,s){if(typeof o!="function")throw new Error("callback is expected to be a function");var u=t[n];return u||(u=t[n]=[]),u.push({callback:o,ctx:s}),e},off:function(n,o){var s=typeof n>"u";if(s)return t=Object.create(null),e;if(t[n]){var u=typeof o!="function";if(u)delete t[n];else for(var a=t[n],f=0;f<a.length;++f)a[f].callback===o&&a.splice(f,1)}return e},fire:function(n){var o=t[n];if(!o)return e;var s;arguments.length>1&&(s=Array.prototype.splice.call(arguments,1));for(var u=0;u<o.length;++u){var a=o[u];a.callback.apply(a.ctx,s)}return e}}}function pr(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}var yr=wr;function wr(e,t,n){typeof n!="object"&&(n={});var o=typeof n.minVelocity=="number"?n.minVelocity:5,s=typeof n.amplitude=="number"?n.amplitude:.25,u=typeof n.cancelAnimationFrame=="function"?n.cancelAnimationFrame:br(),a=typeof n.requestAnimationFrame=="function"?n.requestAnimationFrame:_r(),f,d,g=342,v,m,p,b,A,C,T,h;return{start:w,stop:B,cancel:_};function _(){u(v),u(h)}function w(){f=e(),b=T=m=A=0,d=new Date,u(v),u(h),v=a(E)}function E(){var D=Date.now(),Z=D-d;d=D;var L=e(),O=L.x-f.x,P=L.y-f.y;f=L;var M=1e3/(1+Z);m=.8*O*M+.2*m,A=.8*P*M+.2*A,v=a(E)}function B(){u(v),u(h);var D=e();p=D.x,C=D.y,d=Date.now(),(m<-o||m>o)&&(b=s*m,p+=b),(A<-o||A>o)&&(T=s*A,C+=T),h=a(N)}function N(){var D=Date.now()-d,Z=!1,L=0,O=0;b&&(L=-b*Math.exp(-D/g),L>.5||L<-.5?Z=!0:L=b=0),T&&(O=-T*Math.exp(-D/g),O>.5||O<-.5?Z=!0:O=T=0),Z&&(t(p+L,C+O),h=a(N))}}function br(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function _r(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(e){return setTimeout(e,16)}}var xr=Sr;function Sr(e){if(e)return{capture:pt,release:pt};var t,n,o,s=!1;return{capture:u,release:a};function u(f){s=!0,n=window.document.onselectstart,o=window.document.ondragstart,window.document.onselectstart=gt,t=f,t.ondragstart=gt}function a(){s&&(s=!1,window.document.onselectstart=n,t&&(t.ondragstart=o))}}function gt(e){return e.stopPropagation(),!1}function pt(){}var Me,yt;function Tr(){if(yt)return Me;yt=1,Me=e;function e(){this.x=0,this.y=0,this.scale=1}return Me}var he={exports:{}},wt;function Ar(){if(wt)return he.exports;wt=1,he.exports=e,he.exports.canAttach=t;function e(n,o){if(!t(n))throw new Error("svg element is required for svg.panzoom to work");var s=n.ownerSVGElement;if(!s)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");o.disableKeyboardInteraction||s.setAttribute("tabindex",0);var u={getBBox:f,getScreenCTM:d,getOwner:a,applyTransform:v,initTransform:g};return u;function a(){return s}function f(){var m=n.getBBox();return{left:m.x,top:m.y,width:m.width,height:m.height}}function d(){var m=s.getCTM();return m||s.getScreenCTM()}function g(m){var p=n.getCTM();p===null&&(p=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),m.x=p.e,m.y=p.f,m.scale=p.a,s.removeAttributeNS(null,"viewBox")}function v(m){n.setAttribute("transform","matrix("+m.scale+" 0 0 "+m.scale+" "+m.x+" "+m.y+")")}}function t(n){return n&&n.ownerSVGElement&&n.getCTM}return he.exports}var ge={exports:{}},bt;function Cr(){if(bt)return ge.exports;bt=1,ge.exports=e,ge.exports.canAttach=t;function e(n,o){var s=t(n);if(!s)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var u=n.parentElement;n.scrollTop=0,o.disableKeyboardInteraction||u.setAttribute("tabindex",0);var a={getBBox:d,getOwner:f,applyTransform:g};return a;function f(){return u}function d(){return{left:0,top:0,width:n.clientWidth,height:n.clientHeight}}function g(v){n.style.transformOrigin="0 0 0",n.style.transform="matrix("+v.scale+", 0, 0, "+v.scale+", "+v.x+", "+v.y+")"}}function t(n){return n&&n.parentElement&&n.style}return ge.exports}var _t=er,Be=vr,Er=hr,kr=yr,Pt=xr,Mr=Pt(),Br=Pt(!0),Dr=Tr(),xt=Ar(),St=Cr(),Lr=1,Or=1.75,Tt=300,At=200,Ir=$t;function $t(e,t){t=t||{};var n=t.controller;if(n||(xt.canAttach(e)?n=xt(e,t):St.canAttach(e)&&(n=St(e,t))),!n)throw new Error("Cannot create panzoom for the current type of dom element");var o=n.getOwner(),s={x:0,y:0},u=!1,a=new Dr;n.initTransform&&n.initTransform(a);var f=typeof t.filterKey=="function"?t.filterKey:X,d=typeof t.pinchSpeed=="number"?t.pinchSpeed:1,g=t.bounds,v=typeof t.maxZoom=="number"?t.maxZoom:Number.POSITIVE_INFINITY,m=typeof t.minZoom=="number"?t.minZoom:0,p=typeof t.boundsPadding=="number"?t.boundsPadding:.05,b=typeof t.zoomDoubleClickSpeed=="number"?t.zoomDoubleClickSpeed:Or,A=t.beforeWheel||X,C=t.beforeMouseDown||X,T=typeof t.zoomSpeed=="number"?t.zoomSpeed:Lr,h=Ct(t.transformOrigin),_=t.enableTextSelection?Br:Mr;Nr(g),t.autocenter&&Ht();var w,E=0,B=0,N=0,D=null,Z=new Date,L,O=!1,P=!1,M,I,_e,xe,Se,F;"smoothScroll"in t&&!t.smoothScroll?F=Fr():F=kr(sn,dn,t.smoothScroll);var Te,te,ie,se=!1;Re();var ue={dispose:mn,moveBy:Y,moveTo:Ae,smoothMoveTo:ln,centerOn:fn,zoomTo:de,zoomAbs:ce,smoothZoom:le,smoothZoomAbs:bn,showRectangle:Gt,pause:Wt,resume:Kt,isPaused:Ut,getTransform:Qt,getMinZoom:Jt,setMinZoom:Xt,getMaxZoom:en,setMaxZoom:tn,getTransformOrigin:nn,setTransformOrigin:rn,getZoomSpeed:on,setZoomSpeed:an};Er(ue);var Ie=typeof t.initialX=="number"?t.initialX:a.x,Ne=typeof t.initialY=="number"?t.initialY:a.y,Fe=typeof t.initialZoom=="number"?t.initialZoom:a.scale;return(Ie!=a.x||Ne!=a.y||Fe!=a.scale)&&ce(Ie,Ne,Fe),ue;function Wt(){Pe(),se=!0}function Kt(){se&&(Re(),se=!1)}function Ut(){return se}function Gt(r){var i=o.getBoundingClientRect(),c=$(i.width,i.height),l=r.right-r.left,y=r.bottom-r.top;if(!Number.isFinite(l)||!Number.isFinite(y))throw new Error("Invalid rectangle");var x=c.x/l,S=c.y/y,k=Math.min(x,S);a.x=-(r.left+l/2)*k+c.x/2,a.y=-(r.top+y/2)*k+c.y/2,a.scale=k}function $(r,i){if(n.getScreenCTM){var c=n.getScreenCTM(),l=c.a,y=c.d,x=c.e,S=c.f;s.x=r*l-x,s.y=i*y-S}else s.x=r,s.y=i;return s}function Ht(){var r,i,c=0,l=0,y=qe();if(y)c=y.left,l=y.top,r=y.right-y.left,i=y.bottom-y.top;else{var x=o.getBoundingClientRect();r=x.width,i=x.height}var S=n.getBBox();if(!(S.width===0||S.height===0)){var k=i/S.height,K=r/S.width,V=Math.min(K,k);a.x=-(S.left+S.width/2)*V+r/2+c,a.y=-(S.top+S.height/2)*V+i/2+l,a.scale=V}}function Qt(){return a}function Jt(){return m}function Xt(r){m=r}function en(){return v}function tn(r){v=r}function nn(){return h}function rn(r){h=Ct(r)}function on(){return T}function an(r){if(!Number.isFinite(r))throw new Error("Zoom speed should be a number");T=r}function sn(){return{x:a.x,y:a.y}}function Ae(r,i){a.x=r,a.y=i,Ce(),W("pan"),Ee()}function ze(r,i){Ae(a.x+r,a.y+i)}function Ce(){var r=qe();if(r){var i=!1,c=un(),l=r.left-c.right;return l>0&&(a.x+=l,i=!0),l=r.right-c.left,l<0&&(a.x+=l,i=!0),l=r.top-c.bottom,l>0&&(a.y+=l,i=!0),l=r.bottom-c.top,l<0&&(a.y+=l,i=!0),i}}function qe(){if(g){if(typeof g=="boolean"){var r=o.getBoundingClientRect(),i=r.width,c=r.height;return{left:i*p,top:c*p,right:i*(1-p),bottom:c*(1-p)}}return g}}function un(){var r=n.getBBox(),i=cn(r.left,r.top);return{left:i.x,top:i.y,right:r.width*a.scale+i.x,bottom:r.height*a.scale+i.y}}function cn(r,i){return{x:r*a.scale+a.x,y:i*a.scale+a.y}}function Ee(){u=!0,w=window.requestAnimationFrame(vn)}function Ze(r,i,c){if(De(r)||De(i)||De(c))throw new Error("zoom requires valid numbers");var l=a.scale*c;if(l<m){if(a.scale===m)return;c=m/a.scale}if(l>v){if(a.scale===v)return;c=v/a.scale}var y=$(r,i);if(a.x=y.x-c*(y.x-a.x),a.y=y.y-c*(y.y-a.y),g&&p===1&&m===1)a.scale*=c,Ce();else{var x=Ce();x||(a.scale*=c)}W("zoom"),Ee()}function ce(r,i,c){var l=c/a.scale;Ze(r,i,l)}function fn(r){var i=r.ownerSVGElement;if(!i)throw new Error("ui element is required to be within the scene");var c=r.getBoundingClientRect(),l=c.left+c.width/2,y=c.top+c.height/2,x=i.getBoundingClientRect(),S=x.width/2-l,k=x.height/2-y;Y(S,k,!0)}function ln(r,i){Y(r-a.x,i-a.y,!0)}function Y(r,i,c){if(!c)return ze(r,i);Te&&Te.cancel();var l={x:0,y:0},y={x:r,y:i},x=0,S=0;Te=Be(l,y,{step:function(k){ze(k.x-x,k.y-S),x=k.x,S=k.y}})}function dn(r,i){me(),Ae(r,i)}function mn(){Pe()}function Re(){o.addEventListener("mousedown",Ge,{passive:!1}),o.addEventListener("dblclick",Ue,{passive:!1}),o.addEventListener("touchstart",Ve,{passive:!1}),o.addEventListener("keydown",$e,{passive:!1}),_t.addWheelListener(o,et,{passive:!1}),Ee()}function Pe(){_t.removeWheelListener(o,et),o.removeEventListener("mousedown",Ge),o.removeEventListener("keydown",$e),o.removeEventListener("dblclick",Ue),o.removeEventListener("touchstart",Ve),w&&(window.cancelAnimationFrame(w),w=0),F.cancel(),Je(),Xe(),_.release(),ke()}function vn(){u&&hn()}function hn(){u=!1,n.applyTransform(a),W("transform"),w=0}function $e(r){var i=0,c=0,l=0;if(r.keyCode===38?c=1:r.keyCode===40?c=-1:r.keyCode===37?i=1:r.keyCode===39?i=-1:r.keyCode===189||r.keyCode===109?l=1:(r.keyCode===187||r.keyCode===107)&&(l=-1),!f(r,i,c,l)){if(i||c){r.preventDefault(),r.stopPropagation();var y=o.getBoundingClientRect(),x=Math.min(y.width,y.height),S=.05,k=x*S*i,K=x*S*c;Y(k,K)}if(l){var V=tt(l*100),x=h?re():gn();de(x.x,x.y,V)}}}function gn(){var r=o.getBoundingClientRect();return{x:r.width/2,y:r.height/2}}function Ve(r){if(pn(r),ne(),r.touches.length===1)return wn(r,r.touches[0]);r.touches.length===2&&(Se=Ke(r.touches[0],r.touches[1]),ie=!0,je())}function pn(r){t.onTouch&&!t.onTouch(r)||(r.stopPropagation(),r.preventDefault())}function yn(r){ne(),!(t.onDoubleClick&&!t.onDoubleClick(r))&&(r.preventDefault(),r.stopPropagation())}function wn(r){B=new Date;var i=r.touches[0],c=z(i);L=c;var l=$(c.x,c.y);M=l.x,I=l.y,_e=M,xe=I,F.cancel(),je()}function je(){O||(O=!0,document.addEventListener("touchmove",Ye),document.addEventListener("touchend",fe),document.addEventListener("touchcancel",fe))}function Ye(r){if(r.touches.length===1){r.stopPropagation();var i=r.touches[0],c=z(i),l=$(c.x,c.y),y=l.x-M,x=l.y-I;y!==0&&x!==0&&nt(),M=l.x,I=l.y,Y(y,x)}else if(r.touches.length===2){ie=!0;var S=r.touches[0],k=r.touches[1],K=Ke(S,k),V=1+(K/Se-1)*d,rt=z(S),ot=z(k);if(M=(rt.x+ot.x)/2,I=(rt.y+ot.y)/2,h){var c=re();M=c.x,I=c.y}de(M,I,V),Se=K,r.stopPropagation(),r.preventDefault()}}function ne(){N&&(clearTimeout(N),N=0)}function We(r){if(t.onClick){ne();var i=M-_e,c=I-xe,l=Math.sqrt(i*i+c*c);l>5||(N=setTimeout(function(){N=0,t.onClick(r)},Tt))}}function fe(r){if(ne(),r.touches.length>0){var i=z(r.touches[0]),c=$(i.x,i.y);M=c.x,I=c.y}else{var l=new Date;if(l-E<Tt)if(h){var i=re();le(i.x,i.y,b)}else le(L.x,L.y,b);else l-B<At&&We(r);E=l,ke(),Xe()}}function Ke(r,i){var c=r.clientX-i.clientX,l=r.clientY-i.clientY;return Math.sqrt(c*c+l*l)}function Ue(r){yn(r);var i=z(r);h&&(i=re()),le(i.x,i.y,b)}function Ge(r){if(ne(),!C(r)){if(D=r,Z=new Date,O)return r.stopPropagation(),!1;var i=r.button===1&&window.event!==null||r.button===0;if(i){F.cancel();var c=z(r),l=$(c.x,c.y);return _e=M=l.x,xe=I=l.y,document.addEventListener("mousemove",He),document.addEventListener("mouseup",Qe),_.capture(r.target||r.srcElement),!1}}}function He(r){if(!O){nt();var i=z(r),c=$(i.x,i.y),l=c.x-M,y=c.y-I;M=c.x,I=c.y,Y(l,y)}}function Qe(){var r=new Date;r-Z<At&&We(D),_.release(),ke(),Je()}function Je(){document.removeEventListener("mousemove",He),document.removeEventListener("mouseup",Qe),P=!1}function Xe(){document.removeEventListener("touchmove",Ye),document.removeEventListener("touchend",fe),document.removeEventListener("touchcancel",fe),P=!1,ie=!1,O=!1}function et(r){if(!A(r)){F.cancel();var i=r.deltaY;r.deltaMode>0&&(i*=100);var c=tt(i);if(c!==1){var l=h?re():z(r);de(l.x,l.y,c),r.preventDefault()}}}function z(r){var i,c,l=o.getBoundingClientRect();return i=r.clientX-l.left,c=r.clientY-l.top,{x:i,y:c}}function le(r,i,c){var l=a.scale,y={scale:l},x={scale:c*l};F.cancel(),me(),te=Be(y,x,{step:function(S){ce(r,i,S.scale)},done:_n})}function bn(r,i,c){var l=a.scale,y={scale:l},x={scale:c};F.cancel(),me(),te=Be(y,x,{step:function(S){ce(r,i,S.scale)}})}function re(){var r=o.getBoundingClientRect();return{x:r.width*h.x,y:r.height*h.y}}function de(r,i,c){return F.cancel(),me(),Ze(r,i,c)}function me(){te&&(te.cancel(),te=null)}function tt(r){var i=Math.sign(r),c=Math.min(.25,Math.abs(T*r/128));return 1-i*c}function nt(){P||(W("panstart"),P=!0,F.start())}function ke(){P&&(ie||F.stop(),W("panend"))}function _n(){W("zoomend")}function W(r){ue.fire(r,ue)}}function Ct(e){if(e){if(typeof e=="object")return(!J(e.x)||!J(e.y))&&Et(e),e;Et()}}function Et(e){throw console.error(e),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function X(){}function Nr(e){var t=typeof e;if(!(t==="undefined"||t==="boolean")){var n=J(e.left)&&J(e.top)&&J(e.bottom)&&J(e.right);if(!n)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function J(e){return Number.isFinite(e)}function De(e){return Number.isNaN?Number.isNaN(e):e!==e}function Fr(){return{start:X,stop:X,cancel:X}}function zr(){if(typeof document>"u")return;var e=document.getElementsByTagName("script");if(!e)return;for(var t,n=0;n<e.length;++n){var o=e[n];if(o.src&&o.src.match(/\bpanzoom(\.min)?\.js/)){t=o;break}}if(!t)return;var s=t.getAttribute("query");if(!s)return;var u=t.getAttribute("name")||"pz",a=Date.now();f();function f(){var v=document.querySelector(s);if(!v){var m=Date.now(),p=m-a;if(p<2e3){setTimeout(f,100);return}console.error("Cannot find the panzoom element",u);return}var b=d(t);console.log(b),window[u]=$t(v,b)}function d(v){for(var m=v.attributes,p={},b=0;b<m.length;++b){var A=m[b],C=g(A);C&&(p[C.name]=C.value)}return p}function g(v){if(v.name){var m=v.name[0]==="p"&&v.name[1]==="z"&&v.name[2]==="-";if(m){var p=v.name.substr(3),b=JSON.parse(v.value);return{name:p,value:b}}}}}zr();const lo=Vn(Ir);let kt,Mt;function Vt(e){if(typeof document>"u")return;clearTimeout(kt),clearTimeout(Mt);const t=document.createElement("style"),n=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);t.appendChild(n);const o=()=>document.head.appendChild(t),s=()=>document.head.removeChild(t);if(typeof window.getComputedStyle<"u"){o(),e(),window.getComputedStyle(t).opacity,s();return}if(typeof window.requestAnimationFrame<"u"){o(),e(),window.requestAnimationFrame(s);return}o(),kt=window.setTimeout(()=>{e(),Mt=window.setTimeout(s,120)},120)}function Bt(e){return e.filter(t=>t.length>0)}const jt={getItem:e=>null,setItem:(e,t)=>{}},R=typeof document<"u",qr=["dark","light","system"],Zr=q("mode-watcher-mode"),Rr=q("mode-watcher-theme"),Pr=Kr(),$r=Gr(),Vr=q(void 0),jr=Ur(),Yt=q(!0),Yr=q([]),Wr=q([]),mo=Hr(),vo=Qr();function Kr(){const e="system",t=R?localStorage:jt,n=t.getItem(s());let o=Dt(n)?n:e;function s(){return Ot(Zr)}const{subscribe:u,set:a}=q(o,()=>{if(!R)return;const d=g=>{if(g.key!==s())return;const v=g.newValue;Dt(v)?a(o=v):a(o=e)};return addEventListener("storage",d),()=>removeEventListener("storage",d)});function f(d){a(o=d),t.setItem(s(),o)}return{subscribe:u,set:f}}function Ur(){const e=R?localStorage:jt,t=e.getItem(o());let n=t??"";function o(){return Ot(Rr)}const{subscribe:s,set:u}=q(n,()=>{if(!R)return;const f=d=>{if(d.key!==o())return;const g=d.newValue;u(g===null?n="":n=g)};return addEventListener("storage",f),()=>removeEventListener("storage",f)});function a(f){u(n=f),e.setItem(o(),n)}return{subscribe:s,set:a}}function Gr(){let t=!0;const{subscribe:n,set:o}=q(void 0,()=>{if(!R)return;const a=d=>{t&&o(d.matches?"light":"dark")},f=window.matchMedia("(prefers-color-scheme: light)");return f.addEventListener("change",a),()=>f.removeEventListener("change",a)});function s(){if(!R)return;const a=window.matchMedia("(prefers-color-scheme: light)");o(a.matches?"light":"dark")}function u(a){t=a}return{subscribe:n,query:s,tracking:u}}function Hr(){const{subscribe:e}=It([Pr,$r,Vr,Yt,Yr,Wr],([t,n,o,s,u,a])=>{if(!R)return;const f=t==="system"?n:t,d=Bt(u),g=Bt(a);function v(){const m=document.documentElement,p=document.querySelector('meta[name="theme-color"]');f==="light"?(d.length&&m.classList.remove(...d),g.length&&m.classList.add(...g),m.style.colorScheme="light",p&&o&&p.setAttribute("content",o.light)):(g.length&&m.classList.remove(...g),d.length&&m.classList.add(...d),m.style.colorScheme="dark",p&&o&&p.setAttribute("content",o.dark))}return s?Vt(v):v(),f});return{subscribe:e}}function Qr(){const{subscribe:e}=It([jr,Yt],([t,n])=>{if(!R)return;function o(){document.documentElement.setAttribute("data-theme",t)}return n?Vt(o):o(),t});return{subscribe:e}}function Dt(e){return typeof e!="string"?!1:qr.includes(e)}export{co as A,lo as B,Pn as a,pe as b,uo as c,ro as d,ao as e,so as f,Vn as g,fo as h,Wn as i,Kn as j,jn as k,no as l,mo as m,vo as n,$r as o,Dt as p,Zr as q,oo as r,io as s,jr as t,Pr as u,Rr as v,Yt as w,Vr as x,Yr as y,Wr as z};
